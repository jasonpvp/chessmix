@@ -1,3 +1,14 @@
+var Search = require('../search')
+
+const fork = require('child_process').fork;
+var opts = {
+    stdio: ['pipe', 'pipe', process.stderr, 'pipe']
+};
+var child = fork('./src/engines/spoc/score_moves/child.js');
+child.on('message', function (d) {
+  console.log('data from child: ' + d)
+})
+child.send('data from parent')
 /*
 *   scoreMoves is responsible for exploring and scoring possible moves
 *   It is stateless, but updates state on the collection of moves passed to it
@@ -59,6 +70,7 @@ function scoreMoves (options) {
     if (move.staticEval) return
     board.move(move.simpleMove, {sloppy: true})
     move.staticEval = evaluate.staticEval({context: context, move: move})
+    process.send({callback: 'onStaticEval', {evaluation: move.staticEval,
     board.undo()
   })

